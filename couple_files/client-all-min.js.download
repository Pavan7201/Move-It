Array.prototype.filter||(Array.prototype.filter=function(e){"use strict";if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var a,o=[],i=arguments[1],s=0;s<n;s++)s in t&&(a=t[s],e.call(i,a,s,t)&&o.push(a));return o}),document.addEventListener("DOMContentLoaded",function(){var e,n,t;function a(){t&&clearTimeout(t),t=setTimeout(function(){var t=window.pageYOffset;e.forEach(function(e){e.offsetTop<window.innerHeight+t&&(e.src=e.dataset.src,e.classList.remove("lazy"))}),0==e.length&&(document.removeEventListener("scroll",a),window.removeEventListener("resize",a),window.removeEventListener("orientationChange",a))},20)}"IntersectionObserver"in window?(e=document.querySelectorAll(".lazy"),n=new IntersectionObserver(function(e,t){e.forEach(function(e){e.isIntersecting&&((e=e.target).classList.remove("lazy"),n.unobserve(e))})}),e.forEach(function(e){n.observe(e)})):(e=document.querySelectorAll(".lazy"),document.addEventListener("scroll",a),window.addEventListener("resize",a),window.addEventListener("orientationChange",a))}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var a=arguments[1],o=0;o<n;){var i=t[o];if(e.call(a,i,o,t))return i;o++}},configurable:!0,writable:!0}),"indexOf"in Array.prototype||(Array.prototype.indexOf=function(e,t){(t=void 0===t?0:t)<0&&(t+=this.length),t<0&&(t=0);for(var n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1});var QueryString=function(){for(var e={},t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var a,o=t[n].split("=");void 0===e[o[0]]?e[o[0]]=o[1]:"string"==typeof e[o[0]]?(a=[e[o[0]],o[1]],e[o[0]]=a):e[o[0]].push(o[1])}return e}(),animations_completed=!1;function init_custom_browse(){$(".browse-button input").on("change",function(){for(var e=$(this).attr("id"),t="",n=document.getElementById(e).files,a=0;a<n.length;a++)t+=n[a].name+", ";$('.selected-files[data-for="'+e+'"]').html(t.trim().slice(0,-1))})}function updateAction(e,t){$(e).prop("action",t)}function changePrice(e,t){var n,a;"Rent"==e&&(n=$("#price-rent-list").html(),a=$("#price-rent-list-max").html(),"head"==t&&($(".j-search-min-price").html(n),$(".j-search-max-price").html(a)),"listing"==t&&($(".j-search-listing-min-price").html(n),$(".j-search-listing-max-price").html(a))),"Buy"==e&&(n=$("#price-buy-list").html(),a=$("#price-buy-list-max").html(),"head"==t&&($(".j-search-min-price").html(n),$(".j-search-max-price").html(a)),"listing"==t&&($(".j-search-listing-min-price").html(n),$(".j-search-listing-max-price").html(a)))}function synclabels(e){var e=$(e).parents("li"),a=$("> .value",e);a.html(""),$("input:text, input:checked , select",e).map(function(e,t){var n="",n=$(t).data("caption")?$(t).data("caption"):$(t).val();a.append(n="<em>"+n+"</em>")}),""===a.html()&&a.text(a.data("default"))}function jump_nav(){$(".js-jump-nav").length&&$(".js-jump-nav").on("change",function(){$(this);window.location.href=$(this).val()})}function scroll_to(e){$("#"+e).length&&($("html, body").stop(),e=$("#"+e).offset().top-($("header").outerHeight()+$(".mobile-register").outerHeight())+2,$("html, body").animate({scrollTop:e},500))}function isValidEmailAddress(e){return new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i).test(e)}function menu_toggle(){$(".js-menu-toggle").length&&$(".js-menu-toggle").on("click tap touch",function(){return $("body").hasClass("search-open")&&($(".j-search__button").removeClass("-open"),$("body").removeClass("search-open")),$("body").hasClass("menu-open")?$("body").removeClass("menu-open"):$("body").addClass("menu-open"),!1}),$(".js-menu-close").length&&$(".js-menu-close").on("click tap touch",function(){return $("body").removeClass("menu-open"),$("body").addClass("menu-close"),!1}),$(".header__menu-wrap").on("click tap touch","a",function(e){$("body").addClass("menu-close"),$("body").removeClass("menu-open")}),$(".js-dropdown").length&&($(".js-dropdown").on("click tap touch",function(e){e.preventDefault(),e.stopPropagation(),$(this).closest(".has-submenu").toggleClass("open")}),$(".header__mobile-menu-wrap .menu-item.has-submenu").on("click tap touch",function(e){$(this).closest(".has-submenu").toggleClass("open")}))}function initiate_scrollers(){$(".js-scroll").length&&$(".js-scroll").on("click tap touch",function(e){e.preventDefault();e=$($(this).attr("href")).offset().top-$("header").outerHeight();$("html, body").animate({scrollTop:e},e/1e4*800+1e3)})}function auto_google_anchor_events(){$("a").on("click tap touch",function(){var e=$(this),t={},n="";t.event_category="",t.event_label="",e.data("eventcategory")?t.eventCategory=e.data("eventcategory"):e.attr("href")&&(n="click",0<=e.attr("href").indexOf("mailto:")?(t.event_category="email",t.event_label=e.attr("href")):0<=e.attr("href").indexOf("tel:")&&(t.event_category="phone",t.event_label=e.attr("href"))),e.data("eventaction")&&(n=e.data("eventaction")),e.data("eventlabel")?t.event_label=e.data("eventlabel"):void 0!==e.attr("title")&&(t.event_label=e.attr("title")),t.event_category.length&&"undefined"!=typeof gtag&&gtag("event",n,t)})}function debounce(a,o,i){var s;return function(){var e=this,t=arguments,n=i&&!s;clearTimeout(s),s=setTimeout(function(){s=null,i||a.apply(e,t)},o),n&&a.apply(e,t)}}function init_notifications(){$("#notifications").children().on("click tap touch",".notification-close",function(){var e=$(this).closest("#info-box");e.fadeOut(function(){e.remove()})}),$("#notifications").children().each(function(){var e,t=$(this);t.fadeIn(),t.data("timeout")&&(e=1e3*t.data("timeout"),setTimeout(function(){t.fadeOut(500,function(){t.remove()})},e))}),$("#notifications").delay(750).fadeIn(400),$("#notifications .additional").delay(1200).fadeIn(400),$("#notifications .additional .close-additional").on("click tap touch",function(){$("#notifications .additional").fadeOut(600)})}function formSubmit(){$("form").on("submit",function(e){var t=$(this).find('[type="submit"]');t.html('<i class="fal fa-spinner fa-spin"></i>'),t.prop("disabled",!0)})}function initiate_share(){$(".addthis_inline_share_toolbox").length&&$(".js-share-all").on("click tap touch",function(e){e.preventDefault(),$(".addthis_inline_share_toolbox a span").click(),$(".addthis_toolbox > a").hide})}$(document).ready(function(){$(document).on("click",'a[href^="#"]',function(e){e.preventDefault();e=$.attr(this,"href");$(e).length&&$("html, body").animate({scrollTop:$(e).offset().top},500)});menu_toggle(),initiate_scrollers(),auto_google_anchor_events(),formSubmit();$("select").on("change",function(){$(this).addClass("selection-made")}),$(".form-thankyou").length&&(e=$(".form-thankyou").offset().top,$("html, body").animate({scrollTop:e},600,"swing",function(){$(".form-thankyou").fadeOut(500,function(){$(".form-thankyou").fadeIn(500)})}));var e=debounce(function(){96<$(document).scrollTop()&&766<$(document).width()?$("body").addClass("-scroll"):$("body").removeClass("-scroll")},150);window.addEventListener("scroll",e),$(".js-scroll-to").length&&$(".js-scroll-to").on("click tap touch",function(e){e.preventDefault(),scroll_to($(this).attr("href").slice(1))}),$(".js-jump-nav").length&&jump_nav(),$("#notifications").children().length&&init_notifications(),initiate_share();var a,n,t,o,i,s,l,r,c,h=!1;if($(document).click(function(e){h&&0===$(e.target).closest(".j-new_search-form").length&&($(".j-search__button").removeClass("-open"),$("body").removeClass("search-open"),h=!1)}),$(".j-search__button").on("click tap",function(e){$(this).hasClass("-open")?($(this).removeClass("-open"),$("body").removeClass("search-open"),h=!1):($(this).addClass("-open").find("input").focus(),$("body").addClass("search-open"),h=!0,$("body").hasClass("menu-open")&&($("body").removeClass("menu-open"),$("body").removeClass("menu-open"))),e.stopPropagation()}),$(".head__filters > ul > li").click(function(e){$(this).hasClass("-open")?$(this).removeClass("-open"):($(".head__filters > ul > li").removeClass("-open"),$(this).addClass("-open"))}),$(".head__filters > ul > li > div").click(function(e){e.stopPropagation()}),$(".head__search > input").click(function(e){$(".head__filters > ul > li").removeClass("-open")}),$(".head__filters_show-more a").click(function(e){e.preventDefault();e=$(" > span",this);751<$(document).width()?($(".head .head__filters > ul > li").removeClass("-open"),$(".head .head__filters").toggleClass("-show")):$(".head .head__filters").toggle(),$(this).toggleClass("-less"),"Show more"===e.text()?e.text("Show less"):e.text("Show more")}),$(".head__filters > ul > li input").change(function(){synclabels(this)}),$(function(){$(".head__filters > ul > li input").map(function(e,t){synclabels(t)})}),$(".head__search input").keyup(function(e){13==e.keyCode&&$(this).parents("form").submit()}),$(".head__search_btn").on("click",function(){$(this).parents("form").submit()}),$(".header__menu-wrap .menu-item").click(function(e){var t=$(this);$(".header__menu-wrap .menu-item").removeClass("show-submenu"),t.addClass("show-submenu")}),$(".home-carousel").length&&(a={},(a=$(".home-carousel").flickity({cellAlign:"left",imagesLoaded:!0,contain:!0,pageDots:!1,autoPlay:5e3})).on("change",function(){a.cells.forEach(function(e,t){var n;e.element!=a.selectedElement?(n=e.element.querySelector("video"))&&n[0].pause():(n=e.element.querySelector("video"))&&n[0].play()})})),$(".j-video-carousel").length&&$(".j-video-carousel").flickity({cellAlign:"left",imagesLoaded:!0,contain:!0,pageDots:!1,draggable:!1}),$(".j-inline-video-carousel").length&&$(".j-inline-video-carousel").flickity({cellAlign:"left",imagesLoaded:!0,contain:!0,prevNextButtons:!1,pageDots:!1}),$(".j-item-carousel").length&&(n=$(".j-item-carousel").flickity({cellAlign:"center",wrapAround:!0,pageDots:!1,bgLazyLoad:1,imagesLoaded:!0}),$(".j-reveal-more").click(function(e){e.preventDefault();var t=$(this),e=t.data("target");$(e).length&&($(e).show(),n.flickity("destroy"),n.flickity({cellAlign:"center",wrapAround:!0,pageDots:!1,bgLazyLoad:1,imagesLoaded:!0})),$(t).closest(".link-next-page-wrapper").hide()})),$(".j-listing-carousel").length){var d={cellAlign:"center",wrapAround:!0,lazyLoad:1,fullscreen:!1,bgLazyLoad:1,draggable:!0,on:{ready:function(){$(".j-listing-carousel").append('<button class="j-trigger-gallery-fs flickity-button flickity-fullscreen-button flickity-fullscreen-button-view" type="button" aria-label="View full-screen" title="View full-screen"></button>')}}};const y=$(".j-listing-carousel").flickity(d);$(".j-trigger-gallery-fs").on("click",function(e){e.preventDefault();var t,n,a,o=$(".head-listing__carousel-cell.is-selected").data("index");t=document.querySelectorAll(".pswp")[0],n=$.map($(".j-listing-carousel").find(".head-listing__carousel-cell"),function(e){var t=$(e).data("img"),n=$(e).data("img_width"),a=$(e).data("img_height");$(e).find("svg");return $(e).data("video")?{html:'<iframe style="" class="yt-iframe" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" type="text/html" src="'+$(e).data("video")+'"></iframe>'}:{src:t,w:n,h:a}}),(a=new PhotoSwipe(t,PhotoSwipeUI_Default,n,{history:!1,index:o,bgOpacity:1,maxSpreadZoom:5})).init(),a.listen("afterChange",function(){var e=a.getCurrentIndex();y.flickity("select",e)})}),$(".j-select-slide").click(function(e){e.preventDefault();e=$(this).attr("href");y.flickity("selectCell",e)})}function u(){var n="";(n=""!=$(".j-search-agents").val()?$(".j-search-agents").val().toLowerCase():n)&&($(".j-more-agents").hide(),l.hide(),l.map(function(e,t){$(".h3",t).text().toLowerCase().includes(n)&&$(t).addClass("j-search-show")}),i.map(function(n){$(".j-search-show").map(function(e,t){$(t).data("teams").toLowerCase().includes(n)&&$(".j-class-"+n).addClass("highlighted")})}),$(".j-more-agents").hide(),$(".j-sort-agents a").click(function(e){e.preventDefault(),$(".j-sort-agents li").removeClass("active"),$(this).parent("li").addClass("active"),currentTeam=$(this).data("team"),p(l,currentTeam,!0)})),""==n&&(l.removeAttr("style").removeClass("j-search-show"),$(".j-sort-agents li").removeClass("highlighted"),p(l,s))}function p(e,n,a=!1){$(".j-more-agents").show(),e.each(function(e,t){t=$(t);1==a?(t.data("teams").includes(n)?(t.removeClass("j-hidden"),t.addClass("j-visible")):(t.addClass("j-hidden"),t.removeClass("j-visible")),$(".j-more-agents").hide()):t.data("teams").includes(n)?(t.removeClass("j-hidden"),t.addClass("j-visible"),t.removeAttr("style")):(t.addClass("j-hidden"),t.removeClass("j-visible"))}),8<$(".j-agent-wrapper .tile__item.j-visible").length?($(".j-agent-wrapper .tile__item.j-visible:gt(8)").hide(),$(".j-more-agents").removeAttr("style")):$(".j-more-agents").hide()}function f(t,n,a){$.ajax({url:t}).done(function(e){!function(e,t,n){var a=e.html;$("#"+t).append(a);var o=document.querySelectorAll(".j-item-carousel");if(o.length)for(var i=0,s=o.length;i<s;i++)Flickity.data(o[i])||new Flickity(o[i],{cellAlign:"center",wrapAround:!0,lazyLoad:1,pageDots:!1,bgLazyLoad:1});n=n.parents(".link-next-page-wrapper");n.removeClass("loading"),""!=e.next_link?$(".j-load-next-page").attr("href",e.next_link):n.remove()}(e,n,a),window.history.pushState({},"",t)})}if($(".j-read-more").length&&(350<(t=$(".j-read-more")).height&&t.removeClass("read-more-collapsed"),$(".j-read-more-button").click(function(e){e.preventDefault(),t.removeClass("read-more-collapsed")})),$(".j-agent-wrapper").length&&(o=window.location.hash.substring(1).toLowerCase(),i=[],$(".j-sort-agents a").map(function(e,t){i.push($(t).data("team").toLowerCase())}),i.includes(o)?$(".j-sort-agents a").map(function(e,t){$(t).parent().removeClass("active"),$(t).data("team").toLowerCase()==o&&$(t).parent().addClass("active")}):o="all",$(".j-sort-agents .j-agents-all a").click(function(e){""==$(".j-search-agents").val()&&(e.preventDefault(),$(".j-sort-agents li").removeClass("active"),$(this).parent("li").addClass("active"),currentTeam=$(this).data("team"),p(l,currentTeam))}),s=$(".j-sort-agents li.active a").data("team"),p(l=$(".j-agent-wrapper .tile__item"),s),$(".j-search-agents").keypress(function(e){"13"==(e.keyCode||e.which)&&(u(),$("html, body").animate({scrollTop:$(".j-sort-agents").offset().top-80},200))}),$(".j-search-agent-button").click(function(){u(),$("html, body").animate({scrollTop:$(".j-sort-agents").offset().top-80},200)}),""!=$(".j-search-agents").val()&&u()),$(".flickity-button").click(function(e){e.stopImmediatePropagation()}),$(".j-video-control").click(function(e){var t=$(this),n=$("video",t).get(0);n.paused?n.play():n.pause(),t.toggleClass("--playing")}),$(".j-load-agents-team").click(function(e){e.preventDefault(),$(".j-more-agents").hide(),$(".j-agent-wrapper .tile__item.j-visible").removeAttr("style")}),$(".j-agents-sort-select").length&&(r=$(".j-agent-wrapper .tile__item"),$(".j-agents-sort-select").change(function(e){var t=$(this).val();p(r,t)})),$(".j-jobs").length&&(!(d=(d=window.location.href).substring(d.indexOf("#")+1))||(m=$("[name='"+d+"']")).length&&(m.addClass("-open"),$("html, body").animate({scrollTop:m.offset().top},500)),$(".j-accordion__head").click(function(){$(this).parent().toggleClass("-open")})),$(".j-icon-top").click(function(e){return $("html, body").animate({scrollTop:0},800),!1}),$(".j-load-next-page").click(function(e){var t=$(this).attr("href"),n=$(this).data("target-container"),a=$(this);$(this).parents(".link-next-page-wrapper").addClass("loading"),e.preventDefault(),f(t,n,a)}),$(".js-project-category").click(function(e){e.preventDefault();e=$(this).attr("href");$(".js-project-category li").removeClass("active"),"all"!=e?($(".-project_brick").hide(),$(".j-"+e).show()):$(".-project_brick").show(),$(this).parent().addClass("active"),scroll_to("projects-for-sale")}),$(".js-project-category-select").change(function(e){var t=$(this).val();$(".js-project-category li").removeClass("active"),"all"!=t?($(".-project_brick").hide(),$(".j-"+t).show()):$(".-project_brick").show(),scroll_to("projects-for-sale")}),$("a[data-popup]").click(function(e){e.preventDefault();e=$(this).data("popup");$("#"+e).show()}),$(".j-popup-close").click(function(){$(this).parent().hide()}),$(".j-agents-wrapper .tile__item").map(function(e,t){8<e&&$(t).hide()}),$(".j-load-agents").click(function(e){e.preventDefault(),$(this).parent().hide(),$(".j-agents-wrapper .tile__item").show()}),$(".j-search-type").length){var m=window.location.search;const j=new URLSearchParams(m);var g=j.get("listing_type");g&&($("#filter-type-buy").prop("checked"),$("#filter-type-buy-head").prop("checked"));var v=$(".j-search-type").closest("form"),m=$(".j-search-type input:checked");updateAction(v,m.data("action")),changePrice(m.val(),"head"),g?(changePrice(g,"head"),changePrice(g,"listing")):(changePrice("Buy","head"),changePrice("Buy","listing"),$("#filter-type-buy-head").prop("checked",!0),$("#filter-type-buy").prop("checked",!0)),synclabels($(".j-search-min-price input:checked")),synclabels($(".j-search-max-price input:checked")),$(".j-search-type input").change(function(){var e=$(this);e.data("action")&&updateAction(v,e.data("action")),changePrice(e.val(),"head")}),$(".j-search-listing-type input").change(function(){changePrice($(this).val(),"listing")}),$(".j-dynamic").on("click","input",function(){synclabels(this)})}$(".agent-video-poster").length&&$(".agent-video-poster").click(function(){$(this).removeAttr("background-image").removeClass("-video-thumb"),$(".agent-video").show()}),$(".j-close-popup").click(function(e){e.preventDefault(),$(".j-popup-overlay").remove()}),init_custom_browse(),$(".j-apply").click(function(e){e.preventDefault(),scroll_to("form-8")}),$("a[data-show-el]").click(function(e){e.preventDefault();e=$(this).data("show-el");$("#"+e+" section").show(),scroll_to(e)}),$(".j-play-video-gallery").click(function(e){$(this).removeClass("-video-thumb")}),$(".field-has-error").length&&(c="",$("div.field-has-error input, div.field-has-error select").each(function(){(c=$(this).data("form-error"))&&$(this).before("<label>"+c+"</label>")}),g=$("div.field-has-error").first().offset().top-200,$("html, body").animate({scrollTop:g},600))}),$(document).ready(function(){$('.j-new_search-form input[name="search_q"]').keyup(function(){var e=$(this),t=e.next("span");e.val()?$.ajax({type:"POST",url:"/search?",data:"q="+$(this).val(),beforeSend:function(){},success:function(e){$(t).html(e.html)}}):$("ul",t).remove()})});